@import url("https://fonts.googleapis.com/css2?family=Georama:ital,wght@0,100..900;1,100..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap");

@import "tailwindcss";

html,
body {
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", sans-serif;
  width: 100dvw;
  overflow: hidden;
  height: 100dvh;
  background-image: url("/images/wallpaper_v26.png");
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
}

@theme {
  --font-georama: "Georama", sans-serif;
  --font-roboto: "Roboto Mono", monospace;
  --breakpoint-3xl: 1920px;
}

@utility flex-center {
  @apply flex items-center justify-center;
}

@utility col-center {
  @apply flex flex-col items-center justify-center;
}

@utility abs-center {
  @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
}

@layer base {
  main {
    @apply w-dvw h-dvh overflow-hidden;
  }

  nav {
    @apply flex justify-between items-center bg-transparent backdrop-blur-none p-2 px-5 select-none;

    div {
      @apply flex items-center max-sm:w-full max-sm:justify-center gap-5;

      &:last-child {
        @apply max-sm:hidden;
      }
    }

    ul {
      @apply flex items-center gap-5 max-sm:hidden;

      p {
        @apply text-sm cursor-pointer hover:underline transition-all;
      }
    }

  }

  #welcome {
    @apply relative flex flex-col items-center justify-center h-[calc(100dvh-3rem)];
  }

  .small-screen {
    @apply absolute bottom-10 text-sm text-black/50 sm:hidden;
  }

  #dock {
    @apply fixed bottom-2 left-1/2 -translate-x-1/2 z-50;
  }

  .dock-container {
    @apply flex items-end gap-0.5 bg-white/20 backdrop-blur-2xl rounded-2xl px-2 pb-1.5 pt-1 border border-white/40;
  }

  .dock-separator {
    @apply w-px h-10 bg-white/40 mx-1.5 self-center shrink-0;
  }

  .dock-item {
    @apply relative flex flex-col items-center justify-end;
    width: 50px;
  }

  .dock-icon {
    @apply cursor-pointer origin-bottom will-change-transform h-11 w-11;

    img {
      @apply w-full h-full object-contain select-none;
      -webkit-user-drag: none;
    }

    &:disabled {
      @apply cursor-default;
    }
  }

  .dock-dot {
    @apply absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full bg-white/70;
  }


  .dock-dot-active {
    @apply bg-white w-1.5 h-1.5;
  }

  .dock-context-menu {
    @apply relative;

    &::after {
      content: "";
      @apply absolute left-1/2 -translate-x-1/2 w-0 h-0;
      bottom: -8px;
      border-left: 9px solid transparent;
      border-right: 9px solid transparent;
      border-top: 9px solid #ececec;
    }
  }

  /* Window Layer */
  .window-layer {
    @apply fixed inset-0 z-60 pointer-events-none;
    top: 40px;
    bottom: 70px;
  }

  /* App Window */
  .app-window {
    @apply absolute pointer-events-auto rounded-xl overflow-hidden;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.15);
  }

  .app-window-titlebar {
    @apply flex items-center h-9 px-3 gap-2 select-none;
    background: rgba(60, 60, 60, 0.95);
    cursor: grab;

    &:active {
      cursor: grabbing;
    }
  }

  .traffic-lights {
    @apply flex items-center gap-2;
  }

  .traffic-light {
    @apply w-3 h-3 rounded-full flex-center cursor-pointer border-0 p-0;
    transition: filter 0.15s;

    &:hover {
      filter: brightness(1.15);
    }
  }

  .traffic-light-close {
    background: #ff5f57;
  }

  .traffic-light-minimize {
    background: #febc2e;
  }

  .traffic-light-maximize {
    background: #28c840;
  }

  .traffic-light-icon {
    @apply opacity-0 text-[9px] font-bold leading-none;
    color: rgba(0, 0, 0, 0.5);
    transition: opacity 0.15s;
  }

  .traffic-lights:hover .traffic-light-icon {
    @apply opacity-100;
  }

  .app-window-title {
    @apply flex-1 text-center text-xs font-medium truncate;
    color: rgba(255, 255, 255, 0.7);
  }

  .app-window-content {
    @apply overflow-auto;
    background: rgba(30, 30, 30, 0.92);
  }
}